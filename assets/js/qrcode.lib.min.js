/*! qrcode.min.js - dynamic loader for QRCode library with multi-CDN fallback.
   Provides: window.ensureQRCodeLib() -> Promise<void> and window.QRCode after resolved.
   Usage: await ensureQRCodeLib(); QRCode.toCanvas(...)
*/
(function(w,d){
  if (w.ensureQRCodeLib) return;
  function load(src){return new Promise(function(res,rej){var s=d.createElement('script');s.src=src;s.defer=true;s.onload=function(){res()};s.onerror=function(){rej(new Error('load failed: '+src))};(d.head||d.documentElement).appendChild(s);});}
  var cdns=[
    'https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js',
    'https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js',
    'https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.3/qrcode.min.js'
  ];
  w.ensureQRCodeLib=function(){
    if(w.QRCode) return Promise.resolve();
    var chain=Promise.reject();
    cdns.forEach(function(url){chain=chain.catch(function(){return load(url);});});
    return chain.then(function(){ if(!w.QRCode) throw new Error('QRCode not available'); });
  };
})(window,document);
